# Production environment template for social-network monolith
# Fill values and use: docker compose --env-file .env.production up -d

# Server
SERVER_PORT=8080

# Core infrastructure
SPRING_KAFKA_BOOTSTRAP_SERVERS=kafka:29092
SPRING_DATA_REDIS_HOST=redis_db
SPRING_DATA_REDIS_PORT=6379
SPRING_DATA_REDIS_PASSWORD=redis
SPRING_DATA_MONGODB_URI=mongodb://mongodb:27017/appdatabase

# Databases (Postgres)
SOCIAL_AUTH_DB_URL=jdbc:postgresql://postgres:5432/auth_db
SOCIAL_AUTH_DB_USERNAME=postgres
SOCIAL_AUTH_DB_PASSWORD=postgres

SOCIAL_ACCOUNT_DB_URL=jdbc:postgresql://postgres:5432/account_db
SOCIAL_ACCOUNT_DB_USERNAME=postgres
SOCIAL_ACCOUNT_DB_PASSWORD=postgres

SOCIAL_FRIEND_DB_URL=jdbc:postgresql://postgres:5432/friend_db
SOCIAL_FRIEND_DB_USERNAME=postgres
SOCIAL_FRIEND_DB_PASSWORD=postgres

SOCIAL_POST_DB_URL=jdbc:postgresql://postgres:5432/post_db
SOCIAL_POST_DB_USERNAME=postgres
SOCIAL_POST_DB_PASSWORD=postgres

SOCIAL_DIALOG_DB_URL=jdbc:postgresql://postgres:5432/dialog_db
SOCIAL_DIALOG_DB_USERNAME=postgres
SOCIAL_DIALOG_DB_PASSWORD=postgres

SOCIAL_NOTIFICATION_DB_URL=jdbc:postgresql://postgres:5432/notification_db
SOCIAL_NOTIFICATION_DB_USERNAME=postgres
SOCIAL_NOTIFICATION_DB_PASSWORD=postgres

# JWT
SOCIAL_AUTH_JWT_SECRET=CHANGE_ME_LONG_RANDOM_SECRET
SOCIAL_AUTH_JWT_TOKEN_EXPIRATION=PT24H
SOCIAL_AUTH_JWT_REFRESH_TOKEN_EXPIRATION=P7D

# Kafka topics (optional overrides)
SOCIAL_KAFKA_USER_TOPIC=user-topic
SOCIAL_KAFKA_USER_EMAIL_CHANGED=user-email-changed
SOCIAL_KAFKA_USER_PASSWORD_CHANGED=user-password-changed
SOCIAL_KAFKA_AUTH_GROUP=auth-group
SOCIAL_KAFKA_POST_TOPIC=post-topic
SOCIAL_KAFKA_COMMENT_TOPIC=comment-topic
SOCIAL_KAFKA_REACTION_TOPIC=reaction-topic
SOCIAL_KAFKA_TOPIC_PARTITIONS=1
SOCIAL_KAFKA_TOPIC_REPLICAS=1

# MinIO / S3
SOCIAL_INTEGRATION_S3_ENDPOINT=http://minio:9000
SOCIAL_INTEGRATION_S3_BUCKET=social-network
SOCIAL_INTEGRATION_ACCESS_KEY_ID=CHANGE_ME_MINIO_ACCESS_KEY
SOCIAL_INTEGRATION_SECRET_KEY=CHANGE_ME_MINIO_SECRET_KEY
SOCIAL_INTEGRATION_REGION=us-east-1

# Integration geo/client
SOCIAL_GEO_BASE_COUNTRY_URL=https://api.hh.ru/areas
SOCIAL_GEO_REDIS_ALL_COUNTRY_KEY=geo:all-countries
SOCIAL_GEO_UPDATE_INITIAL_DELAY_MS=10000
SOCIAL_GEO_UPDATE_INTERVAL_MS=43200000
SOCIAL_GEO_UPDATE_MIN_INTERVAL_MS=3600000
SOCIAL_CLIENT_CONNECT_TIMEOUT_SECONDS=3
SOCIAL_CLIENT_READ_TIMEOUT_SECONDS=5

# Mail (optional)
SPRING_MAIL_HOST=smtp.gmail.com
SPRING_MAIL_PORT=587
SPRING_MAIL_USERNAME=
SPRING_MAIL_PASSWORD=
